<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<AnchorPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.example.project.hospitalmanagementsystem.controller.users.Appointment"
            prefWidth="800" prefHeight="600"
            stylesheets="@../../css/appointment.css">

    <VBox alignment="TOP_CENTER" spacing="20"
          AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="40" AnchorPane.bottomAnchor="60" >
        <padding>
            <Insets top="20"/>
        </padding>

        <Label text="Book Appointment" styleClass="header-label"/>

        <GridPane hgap="20" vgap="15">
            <columnConstraints>
                <ColumnConstraints percentWidth="30"/>
                <ColumnConstraints percentWidth="70"/>
            </columnConstraints>

            <!-- Full Name -->
            <Label text="Full Name:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
            <TextField fx:id="nameField" promptText="Enter your full name"
                       GridPane.rowIndex="0" GridPane.columnIndex="1"/>

            <!-- Email -->
            <Label text="Email:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
            <TextField fx:id="emailField" promptText="example@email.com"
                       GridPane.rowIndex="1" GridPane.columnIndex="1"/>

            <!-- Department -->
            <Label text="Department:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
            <ComboBox fx:id="departmentComboBox" styleClass="combo-box"
                      promptText="Select a department"
                      onAction="#handleDepartmentSelection"
                      GridPane.rowIndex="2" GridPane.columnIndex="1"/>

            <!-- Doctor -->
            <Label text="Doctor:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
            <ComboBox fx:id="doctorComboBox" styleClass="combo-box"
                      promptText="Select doctor"
                      GridPane.rowIndex="3" GridPane.columnIndex="1"/>

            <!-- Time -->
            <Label text="Select Time:" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
            <ComboBox fx:id="timeComboBox" styleClass="combo-box"
                      promptText="Choose Time"
                      GridPane.rowIndex="4" GridPane.columnIndex="1"/>

            <!-- Preferred Date -->
            <Label text="Preferred Date:" GridPane.rowIndex="6" GridPane.columnIndex="0"/>
            <DatePicker fx:id="datePicker" GridPane.rowIndex="6" GridPane.columnIndex="1"/>
            <Label text="Note: Preferred date and Doctors are subject to availability. We will confirm necessary via email or notification" style="-fx-font-style: italic;" GridPane.rowIndex="5" GridPane.columnIndex="1"/>


            <!-- Notes -->
            <Label text="Symptoms / Notes:" GridPane.rowIndex="7" GridPane.columnIndex="0"/>
            <TextArea fx:id="notesArea" promptText="Describe your symptoms..." prefRowCount="3"
                      GridPane.rowIndex="7" GridPane.columnIndex="1"/>

            <!-- Error Message -->
            <Label fx:id="errorLabel" text="" visible="false"
                   styleClass="error-label"
                   GridPane.rowIndex="8" GridPane.columnIndex="1"/>


            <!-- Buttons -->
            <HBox spacing="10" alignment="CENTER_RIGHT" GridPane.rowIndex="9" GridPane.columnIndex="1">
                <Button text="Back" onAction="#handleBackToHome"/>
                <Button text="Submit Appointment" onAction="#handleSubmit"/>
            </HBox>
        </GridPane>
    </VBox>
</AnchorPane>
